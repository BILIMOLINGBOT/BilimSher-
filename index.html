<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bilim App</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #fff3b0;
      text-align: center;
    }
    h1 {
      padding: 20px;
      color: #4d3f00;
    }
    .button {
      display: block;
      background: #4d3f00;
      color: white;
      padding: 15px;
      margin: 10px auto;
      border-radius: 15px;
      width: 90%;
      max-width: 400px;
      text-decoration: none;
      font-size: 18px;
      transition: transform 0.1s ease;
    }
    .button:active {
      transform: scale(0.97);
    }
    .button.locked {
      background: #ccc;
      color: #666;
      cursor: not-allowed;
    }
    .button-container {
      margin-top: 20px;
    }
    .button-container a {
      margin: 5px;
      display: inline-block;
    }
    section {
      display: none;
    }
    section.active {
      display: block;
    }
  </style>
</head>
<body>
  <h1>Darajani tanlang</h1>
  <section id="home" class="active">
    <div class="button-container">
      <a class="button" onclick="openLevel('A1')">A1</a>
      <a class="button" onclick="alert('Bu daraja hali mavjud emas')">A2</a>
      <a class="button" onclick="alert('Bu daraja hali mavjud emas')">B1</a>
      <a class="button" onclick="alert('Bu daraja hali mavjud emas')">B2</a>
    </div>
  </section>

  <section id="lessons">
    <h1>A1 Darslari</h1>
    <div id="lessonContainer"></div>
    <a class="button" onclick="goHome()">Ortga</a>
  </section>

  <script>
    const lessonsList = [
      "To be affirmative",
      "To be affirmative test",
      "To be question",
      "To be question test",
      "To be negative",
      "To be negative test",
      "Present continues affirmative",
      "Present continues affirmative test",
      "Present continues question",
      "Present continues question test",
      "Present continues negative",
      "Present continues negative test",
      "Present simple affirmative",
      "Present simple affirmative test",
      "Present simple question",
      "Present simple question test",
      "Present simple negative",
      "Present simple negative test",
      "I have/I have got affirmative",
      "I have/I have got affirmative test",
      "I have/I have got question",
      "I have/I have got question test",
      "I have/I have got negative",
      "I have/I have got negative test",
      "Past simple affirmative",
      "Past simple affirmative test",
      "Past simple question",
      "Past simple question test",
      "Past simple negative",
      "Past simple negative test",
      "Past continuous affirmative",
      "Past continuous affirmative test",
      "Past continuous question",
      "Past continuous question test",
      "Past continuous negative",
      "Past continuous negative test"
    ];

    function openLevel(level) {
      document.getElementById("home").classList.remove("active");
      document.getElementById("lessons").classList.add("active");

      const lessonContainer = document.getElementById("lessonContainer");
      lessonContainer.innerHTML = "";

      const completedLessons = parseInt(localStorage.getItem("completedLessons") || "0");

      lessonsList.forEach((title, index) => {
        const isUnlocked = index <= completedLessons;
        const a = document.createElement("a");
        a.innerText = `${index + 1}. ${title}`;
        a.className = "button";
        
        if (isUnlocked) {
          a.href = `lesson${index + 1}.html`;
        } else {
          a.classList.add("locked");
          a.addEventListener("click", () => {
            alert("Darslarni ketma-ket o ªrganish kerak");
          });
        }

        lessonContainer.appendChild(a);
      });
    }

    function goHome() {
      document.getElementById("home").classList.add("active");
      document.getElementById("lessons").classList.remove("active");
    }
  </script>
</body>
</html>